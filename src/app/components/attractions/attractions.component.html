<div class="attractions-container">
  <!-- Page Header -->
  <section class="page-header">
    <div class="header-background">
      <img src="/assets/images/hero_banner.png" alt="Minya Attractions" class="header-image">
      <div class="header-overlay"></div>
    </div>
    <div class="header-content">
      <div class="container">
        <h1 class="page-title fade-in">Discover Minya's Attractions</h1>
        <p class="page-subtitle fade-in">
          Explore ancient wonders and historical treasures that have captivated visitors for millennia
        </p>
      </div>
    </div>
  </section>

  <!-- Filters and Search -->
  <section class="filters-section">
    <div class="container">
      <div class="filters-header">
        <div class="search-container">
          <div class="search-input-wrapper">
            <span class="material-icons search-icon">search</span>
            <input 
              type="text" 
              placeholder="Search attractions..." 
              class="search-input"
              [(ngModel)]="searchQuery"
              (input)="onSearch()"
            >
          </div>
        </div>
        <div class="view-controls">
          <div class="filter-dropdown">
            <select [(ngModel)]="selectedCategory" (change)="onFilterChange()" class="filter-select">
              <option value="">All Categories</option>
              <option value="Historical Site">Historical Sites</option>
              <option value="Archaeological Site">Archaeological Sites</option>
              <option value="Ancient City">Ancient Cities</option>
              <option value="Scenic Area">Scenic Areas</option>
            </select>
          </div>
          <div class="view-toggle">
            <button 
              class="view-btn"
              [class.active]="viewMode === 'grid'"
              (click)="setViewMode('grid')"
              title="Grid View"
            >
              <span class="material-icons">grid_view</span>
            </button>
            <button 
              class="view-btn"
              [class.active]="viewMode === 'list'"
              (click)="setViewMode('list')"
              title="List View"
            >
              <span class="material-icons">view_list</span>
            </button>
          </div>
        </div>
      </div>
      <div class="results-info" *ngIf="filteredAttractions.length > 0">
        <p>Showing {{ filteredAttractions.length }} of {{ totalAttractions }} attractions</p>
      </div>
    </div>
  </section>

  <!-- Attractions Grid/List -->
  <section class="attractions-section">
    <div class="container">
      <div class="loading-container" *ngIf="loading">
        <div class="spinner"></div>
        <p>Loading attractions...</p>
      </div>
      <div class="no-results" *ngIf="!loading && filteredAttractions.length === 0">
        <div class="no-results-icon">
          <span class="material-icons">search_off</span>
        </div>
        <h3>No attractions found</h3>
        <p>Try adjusting your search criteria or browse all attractions.</p>
        <button class="btn btn-primary" (click)="clearFilters()">
          <span class="material-icons">clear</span>
          Clear Filters
        </button>
      </div>
      <div class="attractions-grid" *ngIf="!loading && filteredAttractions.length > 0 && viewMode === 'grid'">
        <div class="attraction-card" *ngFor="let attraction of filteredAttractions; trackBy: trackByAttractionId">
          <div class="card-image">
            <img [src]="attraction.imageUrl" [alt]="attraction.name" loading="lazy">
            <div class="card-overlay">
              <div class="rating">
                <span class="material-icons">star</span>
                <span>{{ attraction.rating }}</span>
                <span class="review-count">({{ attraction.reviewCount }})</span>
              </div>
              <div class="category-badge">{{ attraction.category }}</div>
            </div>
          </div>
          <div class="card-content">
            <h3 class="attraction-name">{{ attraction.name }}</h3>
            <p class="attraction-description">{{ attraction.description | slice:0:120 }}...</p>
            <div class="attraction-details">
              <div class="detail-item">
                <span class="material-icons">schedule</span>
                <span>{{ attraction.openingHours }}</span>
              </div>
              <div class="detail-item">
                <span class="material-icons">local_offer</span>
                <span>{{ attraction.ticketPrice }}</span>
              </div>
            </div>
            <div class="card-actions">
              <a [routerLink]="['/attractions', attraction.id]" class="btn btn-primary">
                <span class="material-icons">visibility</span>
                View Details
              </a>
              <button class="btn btn-secondary" (click)="addToFavorites(attraction)">
                <span class="material-icons">favorite_border</span>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="attractions-list" *ngIf="!loading && filteredAttractions.length > 0 && viewMode === 'list'">
        <div class="attraction-list-item" *ngFor="let attraction of filteredAttractions; trackBy: trackByAttractionId">
          <div class="list-item-image">
            <img [src]="attraction.imageUrl" [alt]="attraction.name" loading="lazy">
          </div>
          <div class="list-item-content">
            <div class="list-item-header">
              <h3 class="attraction-name">{{ attraction.name }}</h3>
              <div class="rating">
                <span class="material-icons">star</span>
                <span>{{ attraction.rating }}</span>
                <span class="review-count">({{ attraction.reviewCount }} reviews)</span>
              </div>
            </div>
            <p class="attraction-description">{{ attraction.description }}</p>
            <div class="list-item-details">
              <div class="detail-group">
                <div class="detail-item">
                  <span class="material-icons">category</span>
                  <span>{{ attraction.category }}</span>
                </div>
                <div class="detail-item">
                  <span class="material-icons">schedule</span>
                  <span>{{ attraction.openingHours }}</span>
                </div>
                <div class="detail-item">
                  <span class="material-icons">local_offer</span>
                  <span>{{ attraction.ticketPrice }}</span>
                </div>
              </div>
              <div class="features-list" *ngIf="attraction.features.length > 0">
                <span class="feature-tag" *ngFor="let feature of attraction.features.slice(0, 3)">
                  {{ feature }}
                </span>
              </div>
            </div>
            <div class="list-item-actions">
              <a [routerLink]="['/attractions', attraction.id]" class="btn btn-primary">
                <span class="material-icons">visibility</span>
                View Details
              </a>
              <button class="btn btn-secondary" (click)="addToFavorites(attraction)">
                <span class="material-icons">favorite_border</span>
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Section -->
  <section class="featured-section" *ngIf="!loading && filteredAttractions.length > 0">
    <div class="container">
      <h2 class="section-title">Why Visit Minya?</h2>
      <div class="features-grid">
        <div class="feature-item">
          <div class="feature-icon">
            <span class="material-icons">history_edu</span>
          </div>
          <h3>Rich History</h3>
          <p>Explore 4,000 years of Egyptian civilization through well-preserved monuments and artifacts.</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <span class="material-icons">landscape</span>
          </div>
          <h3>Scenic Beauty</h3>
          <p>Experience the timeless beauty of the Nile River and surrounding desert landscapes.</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <span class="material-icons">groups</span>
          </div>
          <h3>Cultural Heritage</h3>
          <p>Immerse yourself in authentic Egyptian culture and traditions that continue today.</p>
        </div>
      </div>
    </div>
  </section>
</div>
