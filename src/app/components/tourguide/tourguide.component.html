<div class="tourguide-container">
	<div class="container">
		<h1>{{ i18n.translate('tourguide') }}</h1>

		<div class="loading" *ngIf="loading">
			<div class="spinner"></div>
			<p>{{ i18n.translate('loading') }}</p>
		</div>

		<div class="guides-grid" *ngIf="!loading">
			<div class="guide-card" *ngFor="let g of guides">
				<div class="guide-image">
					<img [src]="g.imageUrl || '/assets/images/download.jpg'" [alt]="pickText(g.name)" />
				</div>
				<div class="guide-content">
					<h3>{{ pickText(g.name) }}</h3>
					<p class="bio">{{ pickText(g.bio) }}</p>

					<div class="meta">
						<div class="languages">
							<strong>{{ i18n.translate('languages') || 'Languages' }}: </strong>
							<span *ngFor="let l of g.languages; let i = index" class="badge">{{ i18n.pick(l) || l }}</span>
						</div>
						<div class="rating-badge" *ngIf="g.rating">â­ {{ i18n.formatNumber(g.rating) }}</div>
					</div>

					<div class="actions">
						<div class="contact-buttons">
							<a *ngIf="g.phone" (click)="showPhone(g)" [href]="'tel:' + i18n.pick(g.phone)" class="btn btn-primary">ğŸ“ {{ i18n.translate('call') || 'Call' }}</a>
							<a *ngIf="g.email" (click)="showEmail(g)" [href]="'mailto:' + i18n.pick(g.email)" class="btn btn-secondary">âœ‰ï¸ {{ i18n.translate('email') || 'Email' }}</a>
							
							<div class="contact-badges">
								<span class="badge phone-badge" *ngIf="shownPhone[g.id]">{{ shownPhone[g.id] }}</span>
								<span class="badge email-badge" *ngIf="shownEmail[g.id]">{{ shownEmail[g.id] }}</span>
							</div>
						</div>

						<div class="social-links" *ngIf="g.social">
							<a *ngIf="g.social.facebook" [href]="'https://facebook.com/' + g.social.facebook" target="_blank" rel="noopener" aria-label="Facebook" class="social" title="Facebook">
								<!-- Facebook SVG -->
								<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
									<path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 4.99 3.66 9.12 8.44 9.92v-7.03H8.08v-2.89h2.36V9.41c0-2.33 1.39-3.62 3.51-3.62.99 0 2.03.18 2.03.18v2.23h-1.14c-1.12 0-1.47.7-1.47 1.42v1.7h2.5l-.4 2.89h-2.1v7.03C18.34 21.19 22 17.06 22 12.07z" fill="#fff"/>
								</svg>
							</a>
							<a *ngIf="g.social.instagram" [href]="'https://instagram.com/' + g.social.instagram" target="_blank" rel="noopener" aria-label="Instagram" class="social" title="Instagram">
								<!-- Instagram SVG -->
								<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
									<path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5z" fill="#fff"/>
								</svg>
							</a>
							<a *ngIf="g.social.twitter" [href]="'https://twitter.com/' + g.social.twitter" target="_blank" rel="noopener" aria-label="Twitter" class="social" title="Twitter">
								<!-- Twitter SVG -->
								<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
									<path d="M22 5.92c-.64.28-1.33.48-2.05.57.74-.44 1.3-1.13 1.57-1.96-.7.42-1.48.73-2.31.9A3.64 3.64 0 0 0 16.62 4c-2.02 0-3.66 1.64-3.66 3.66 0 .29.03.57.1.84-3.04-.15-5.74-1.61-7.55-3.82-.32.55-.5 1.2-.5 1.89 0 1.3.66 2.45 1.67 3.12-.61-.02-1.19-.19-1.69-.47v.05c0 1.82 1.29 3.34 3 3.69-.31.08-.63.12-.96.12-.24 0-.48-.02-.71-.07.49 1.53 1.9 2.64 3.57 2.67A7.32 7.32 0 0 1 2 19.54a10.3 10.3 0 0 0 5.57 1.64c6.69 0 10.35-5.54 10.35-10.34v-.47c.72-.52 1.33-1.17 1.82-1.92-.66.29-1.36.49-2.08.58.75-.45 1.33-1.16 1.6-1.99z" fill="#fff"/>
								</svg>
							</a>
							<a *ngIf="g.social.youtube" [href]="'https://youtube.com/' + g.social.youtube" target="_blank" rel="noopener" aria-label="YouTube" class="social" title="YouTube">
								<!-- YouTube SVG -->
								<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
									<path d="M23.5 6.2a3 3 0 0 0-2.12-2.12C19.79 3.5 12 3.5 12 3.5s-7.8 0-9.38.58A3 3 0 0 0 .5 6.2 31.8 31.8 0 0 0 0 12a31.8 31.8 0 0 0 .5 5.8 3 3 0 0 0 2.12 2.12C4.2 20.5 12 20.5 12 20.5s7.8 0 9.38-.58a3 3 0 0 0 2.12-2.12A31.8 31.8 0 0 0 24 12a31.8 31.8 0 0 0-.5-5.8z" fill="#fff"/>
								</svg>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
